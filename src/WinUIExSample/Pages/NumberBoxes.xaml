<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="WinUIExSample.Pages.NumberBoxes"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinUIExSample.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ex="using:WinUIEx"
    xmlns:num="using:Windows.Globalization.NumberFormatting"
    mc:Ignorable="d">

    <Page.Resources>
        <local:StringConverter x:Key="converter" />
    </Page.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <StackPanel Background="{ThemeResource SemiTransparentBackgroundBrush}" CornerRadius="10" Padding="10" Grid.ColumnSpan="2">
            <TextBlock Text="NumberBox" FontSize="32" FontFamily="Segoe UI" FontWeight="Light" Margin="0,-10,0,0" />
        </StackPanel>

        <StackPanel Background="{ThemeResource SemiTransparentBackgroundBrush}" CornerRadius="10" Padding="10" Margin="0,10,0,0" Grid.Row="1">
            <ex:NumberBoxInt32 Header="NumberBoxInt32" AllowNull="True"
                AcceptsExpression="{x:Bind VM.AcceptsExpressions, Mode=OneWay}" 
                NumberFormatter="{x:Bind VM.Formatter, Mode=OneWay}"
                Value="{x:Bind VM.NullableIntValue, Mode=TwoWay}"
                Minimum="{x:Bind VM.MinimumInt32, Mode=OneWay}"
                Maximum="{x:Bind VM.MaximumInt32, Mode=OneWay}"
                SpinButtonPlacementMode="{x:Bind VM.SpinButtonPlacementMode, Mode=OneWay}"
                ValidationMode="{x:Bind VM.ValidationMode, Mode=OneWay}"
                TextAlignment="{x:Bind VM.TextAlignment, Mode=OneWay}"
                IsWrapEnabled="{x:Bind VM.IsWrapEnabled, Mode=OneWay}"
                Description="32bit Integer"
                PlaceholderText="Enter number"  />
            <ex:NumberBoxDecimal Header="NumberBoxDecimal" AllowNull="False"
                AcceptsExpression="{x:Bind VM.AcceptsExpressions, Mode=OneWay}" 
                NumberFormatter="{x:Bind VM.Formatter, Mode=OneWay}"
                Value="{x:Bind VM.DecimalValue, Mode=TwoWay}"
                Minimum="{x:Bind VM.MinimumDecimal, Mode=OneWay}"
                Maximum="{x:Bind VM.MaximumDecimal, Mode=OneWay}"
                SpinButtonPlacementMode="{x:Bind VM.SpinButtonPlacementMode, Mode=OneWay}" 
                ValidationMode="{x:Bind VM.ValidationMode, Mode=OneWay}"
                TextAlignment="{x:Bind VM.TextAlignment, Mode=OneWay}"
                IsWrapEnabled="{x:Bind VM.IsWrapEnabled, Mode=OneWay}"
                Description="Decimal"
                PlaceholderText="Enter number" />
            <NumberBox Header="NumberBox" 
                AcceptsExpression="{x:Bind VM.AcceptsExpressions, Mode=OneWay}" 
                NumberFormatter="{x:Bind VM.Formatter, Mode=OneWay}" 
                Minimum="{x:Bind VM.Minimum, Mode=OneWay}" 
                Maximum="{x:Bind VM.Maximum, Mode=OneWay}" 
                SpinButtonPlacementMode="{x:Bind VM.SpinButtonPlacementMode, Mode=OneWay}" 
                ValidationMode="{x:Bind VM.ValidationMode, Mode=OneWay}"
                IsWrapEnabled="{x:Bind VM.IsWrapEnabled, Mode=OneWay}"
                Description="WinUI3's NumberBox (double)"
                PlaceholderText="Enter number"  />
        </StackPanel>

        <ScrollView Grid.Row="1" Grid.Column="1">
            <ScrollView.Resources>
                <Style TargetType="NumberBox">
                    <Setter Property="Margin" Value="0,8,0,0" />
                </Style>
                <Style TargetType="ComboBox">
                    <Setter Property="Margin" Value="0,8,0,0" />
                    <Setter Property="HorizontalAlignment" Value="Stretch" />
                </Style>
            </ScrollView.Resources>
            <StackPanel Background="{ThemeResource SemiTransparentBackgroundBrush}"
                    CornerRadius="10" Padding="10" Margin="8,10,0,0" >
                <ToggleSwitch Header="AcceptsExpressions" IsOn="{x:Bind VM.AcceptsExpressions, Mode=TwoWay}" />
                <ToggleSwitch Header="IsWrapEnabled" IsOn="{x:Bind VM.IsWrapEnabled, Mode=TwoWay}" />
                <NumberBox Header="Minimum" Value="{x:Bind VM.Minimum, Mode=TwoWay}" />
                <NumberBox Header="Maximum" Value="{x:Bind VM.Maximum, Mode=TwoWay}" />
                <ComboBox Header="SpinButtonPlacement" ItemsSource="{x:Bind VM.SpinButtonPlacementModes}"
                      SelectedItem="{x:Bind VM.SpinButtonPlacementMode, Mode=TwoWay}" />
                <ComboBox Header="Formatter" ItemsSource="{x:Bind VM.Formatters}" 
                          SelectedItem="{x:Bind VM.Formatter, Mode=TwoWay}" >
                    <ComboBox.ItemTemplate>
                        <DataTemplate x:DataType="num:INumberFormatter2">
                            <TextBlock Text="{x:Bind Converter={StaticResource converter}}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
                <ComboBox Header="ValidationMode" ItemsSource="{x:Bind VM.ValidationModes}"
                      SelectedItem="{x:Bind VM.ValidationMode, Mode=TwoWay}" />
                <ComboBox Header="TextAlignment" ItemsSource="{x:Bind VM.TextAlignments}"
                      SelectedItem="{x:Bind VM.TextAlignment, Mode=TwoWay}" >
                    <ComboBox.ItemTemplate>
                        <DataTemplate x:DataType="TextAlignment">
                            <TextBlock Text="{x:Bind Converter={StaticResource converter}}" />
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

            </StackPanel>
        </ScrollView>
    </Grid>
</Page>
